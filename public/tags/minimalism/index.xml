<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Minimalism on EETH - Blog</title>
    <link>https://eeth.pages.dev/tags/minimalism/</link>
    <description>Recent content in Minimalism on EETH - Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <managingEditor>jayeshjoshi08jj@gmail.com (hkcfs)</managingEditor>
    <webMaster>jayeshjoshi08jj@gmail.com (hkcfs)</webMaster>
    <copyright>hkcfs</copyright>
    <lastBuildDate>Thu, 11 Sep 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://eeth.pages.dev/tags/minimalism/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Behind Tiny Linux: musl vs. uClibc</title>
      <link>https://eeth.pages.dev/blog/behind-tiny-linux-musl-vs-uclibc/</link>
      <pubDate>Thu, 11 Sep 2025 00:00:00 +0000</pubDate><author>jayeshjoshi08jj@gmail.com (hkcfs)</author>
      <guid>https://eeth.pages.dev/blog/behind-tiny-linux-musl-vs-uclibc/</guid>
      <description>&lt;p&gt;You know, we spend a lot of time talking about CPUs, RAM, and GPUs – the flashy parts of our computers. But there&amp;rsquo;s a whole invisible world of software working behind the scenes, enabling everything. And when you&amp;rsquo;re trying to squeeze a full Linux system onto something like my &lt;strong&gt;16MB OpenWrt router&lt;/strong&gt; or that &lt;strong&gt;4GB Dell J1900 NAS&lt;/strong&gt;, these invisible components become the &lt;em&gt;real&lt;/em&gt; heroes.&lt;/p&gt;&#xA;&lt;p&gt;I&amp;rsquo;m talking about C standard libraries: &lt;strong&gt;glibc&lt;/strong&gt;, &lt;strong&gt;musl libc&lt;/strong&gt;, and &lt;strong&gt;uClibc&lt;/strong&gt;. These are the fundamental software layers that almost every program you run relies on. They handle basic tasks like printing text, managing memory, and interacting with the operating system. Think of them as the essential toolkit for all your other applications. And the size of that toolkit? It makes a &lt;em&gt;huge&lt;/em&gt; difference when every megabyte, and even kilobyte, counts.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>You know, we spend a lot of time talking about CPUs, RAM, and GPUs – the flashy parts of our computers. But there&rsquo;s a whole invisible world of software working behind the scenes, enabling everything. And when you&rsquo;re trying to squeeze a full Linux system onto something like my <strong>16MB OpenWrt router</strong> or that <strong>4GB Dell J1900 NAS</strong>, these invisible components become the <em>real</em> heroes.</p>
<p>I&rsquo;m talking about C standard libraries: <strong>glibc</strong>, <strong>musl libc</strong>, and <strong>uClibc</strong>. These are the fundamental software layers that almost every program you run relies on. They handle basic tasks like printing text, managing memory, and interacting with the operating system. Think of them as the essential toolkit for all your other applications. And the size of that toolkit? It makes a <em>huge</em> difference when every megabyte, and even kilobyte, counts.</p>
<p>Let&rsquo;s dive into this deep, somewhat nerdy, but incredibly important rabbit hole.</p>
<h2 id="the-big-boss-glibc-the-feature-packed-suv">The Big Boss: glibc (The Feature-Packed SUV)</h2>
<p>Most Linux distributions you&rsquo;ve probably used – Ubuntu, Fedora, Debian, Arch (yeah, the &ldquo;BTW&rdquo; one) – rely on <strong>glibc (GNU C Library)</strong>. It&rsquo;s the standard, the behemoth, the everything-and-the-kitchen-sink of C libraries. It’s usually compiled with <strong>GCC (GNU Compiler Collection)</strong>, which is also the default compiler for virtually all Linux systems.</p>
<blockquote>
<p><em>My take: Glibc is like a comfortable, feature-packed SUV. It&rsquo;s got all the bells and whistles, fantastic compatibility, and it&rsquo;ll get you anywhere. But it&rsquo;s also big, a bit heavy, and probably uses more fuel than you need for a quick trip to the store.</em></p></blockquote>
<p><strong>Why glibc is so common:</strong></p>
<ul>
<li><strong>Feature Rich:</strong> It supports every POSIX standard, every obscure function, every internationalization setting you could possibly imagine.</li>
<li><strong>Compatibility:</strong> Virtually all Linux software is tested and built against glibc, so things &ldquo;just work&rdquo; with minimal fuss.</li>
<li><strong>Performance (Often):</strong> For general-purpose computing, it&rsquo;s highly optimized.</li>
</ul>
<p><strong>The downside:</strong> It&rsquo;s <em>big</em>. It takes up a significant amount of disk space and a fair bit of RAM, especially when many programs are using it. For servers with gigabytes of RAM or desktops, this isn&rsquo;t an issue. But for my 16MB router? Forget about it.</p>
<h2 id="the-lean-contender-musl-libc-the-stripped-down-sports-car">The Lean Contender: musl libc (The Stripped-Down Sports Car)</h2>
<p>When you start talking about minimal Linux, especially with <strong>Alpine Linux</strong> (like on my humble NAS), <strong>musl libc</strong> quickly enters the conversation. Musl was designed from the ground up to be lightweight, simple, correct, and secure.</p>
<blockquote>
<p><em>My take: Musl is like a sports car – stripped down, incredibly efficient, and incredibly fast for its purpose. It cuts out the unnecessary luxury features to focus on core performance and reliability.</em></p></blockquote>
<p><strong>Why musl is a game-changer for minimalism:</strong></p>
<ul>
<li><strong>Tiny Footprint:</strong> This is its superpower. Musl-linked binaries are significantly smaller than their glibc counterparts, and its runtime memory usage is also much lower. This is <em>the</em> reason Alpine Linux can achieve that mind-boggling ~170MB RAM idle usage I mentioned for my NAS.</li>
<li><strong>Static Linking Friendly:</strong> It makes static linking (where all library code is built directly into the program, removing external dependencies) much easier and results in smaller executables. This is great for containers and embedded systems.</li>
<li><strong>Correctness and Simplicity:</strong> It prioritizes correctness and a clear, simple implementation of the C standard, which can lead to fewer bugs and better security.</li>
<li><strong>OpenWrt Connection:</strong> While many older OpenWrt builds might have used uClibc (more on that next), modern OpenWrt often defaults to musl for its excellent balance of size, compatibility, and features. It&rsquo;s small enough for many constrained routers, yet robust enough for modern applications.</li>
</ul>
<p><strong>The trade-off:</strong> While musl&rsquo;s compatibility has improved dramatically, some very old or very obscure software might occasionally hit a compatibility snag. But for the vast majority of modern applications and embedded use cases, it&rsquo;s a non-issue.</p>
<h2 id="the-ultra-minimalist-uclibc-the-custom-built-fixie">The Ultra-Minimalist: uClibc (The Custom-Built Fixie)</h2>
<p>Now, if musl is a stripped-down sports car, then <strong>uClibc (micro C library)</strong> is like a custom-built bicycle for extreme minimalists. This library was born out of the absolute necessity to fit Linux onto devices with truly <em>paltry</em> amounts of flash and RAM – think original DSL modems, tiny smart devices from 15-20 years ago, or very basic networking gear.</p>
<blockquote>
<p><em>My take: UClibc is for when you look at musl and say, &ldquo;Can we make it even smaller?&rdquo; It&rsquo;s not about comfort; it&rsquo;s about pure, unadulterated, byte-by-byte efficiency.</em></p></blockquote>
<p><strong>Why uClibc is the smallest:</strong></p>
<ul>
<li><strong>Extreme Configurability:</strong> Its core strength is its ability to be highly customized at compile time. You can literally select <em>which</em> C standard functions you need and which you don&rsquo;t. Only using <code>printf</code>? Strip out <code>scanf</code>! This allows for incredibly tiny binaries.</li>
<li><strong>Deeply Embedded Focus:</strong> It was purpose-built for scenarios where every single byte of flash and RAM is critical, more so than musl&rsquo;s general-purpose minimalism.</li>
<li><strong>Historical Significance:</strong> Historically, uClibc was very common in early embedded Linux systems, including many early OpenWrt builds for routers with 4MB or 8MB of flash.</li>
</ul>
<p><strong>The trade-off:</strong> Its extreme configurability means it&rsquo;s often less &ldquo;out-of-the-box&rdquo; compatible with general Linux applications. You might need to rebuild applications against your custom uClibc build. It&rsquo;s often chosen for very specific, static-linked, single-purpose embedded systems where the application is built simultaneously with the library.</p>
<h2 id="visualizing-the-scale-of-libraries">Visualizing the Scale of Libraries</h2>
<p>To give you a better idea of how these libraries stack up in size and complexity:</p>


















<figure id="diagram-1" class="diagram-figure">
  
    <svg class="libc_comparison diagram-svg"
         width="320"
         height="393"
         xmlns="http://www.w3.org/2000/svg"
         version="1.1"
         role="img"
         aria-labelledby="title-1 desc-1">
      <title id="title-1">&#43;------------------------------------&#43;</title>
      <desc id="desc-1">Detailed description of &#43;------------------------------------&#43; A visual comparison showing glibc as the largest and most feature-rich, musl libc as a smaller, efficient alternative, and uClibc as the most compact and highly configurable for extreme minimalism.</desc>
      <g transform='translate(8,16)'>
<path d='M 0,0 L 296,0' fill='none' stroke='currentColor'></path>
<path d='M 0,80 L 296,80' fill='none' stroke='currentColor'></path>
<path d='M 0,144 L 296,144' fill='none' stroke='currentColor'></path>
<path d='M 0,224 L 296,224' fill='none' stroke='currentColor'></path>
<path d='M 0,288 L 288,288' fill='none' stroke='currentColor'></path>
<path d='M 0,368 L 296,368' fill='none' stroke='currentColor'></path>
<path d='M 0,0 L 0,80' fill='none' stroke='currentColor'></path>
<path d='M 0,144 L 0,224' fill='none' stroke='currentColor'></path>
<path d='M 0,288 L 0,368' fill='none' stroke='currentColor'></path>
<path d='M 296,0 L 296,80' fill='none' stroke='currentColor'></path>
<path d='M 296,144 L 296,224' fill='none' stroke='currentColor'></path>
<path d='M 296,320 L 296,368' fill='none' stroke='currentColor'></path>
<path d='M 304,296 L 304,312' fill='none' stroke='currentColor'></path>
<path d='M 112,88 L 112,96' fill='none' stroke='currentColor'></path>
<polygon points='128.000000,96.000000 116.000000,90.400002 116.000000,101.599998' fill='currentColor' transform='rotate(270.000000, 112.000000, 96.000000)'></polygon>
<path d='M 112,232 L 112,240' fill='none' stroke='currentColor'></path>
<polygon points='128.000000,240.000000 116.000000,234.399994 116.000000,245.600006' fill='currentColor' transform='rotate(270.000000, 112.000000, 240.000000)'></polygon>
<path d='M 288,288 A 16,16 0 0,1 304,304' fill='none' stroke='currentColor'></path>
<text text-anchor='middle' x='16' y='20' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='52' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='68' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='164' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='16' y='180' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='196' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='212' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='308' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='16' y='324' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='340' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='16' y='356' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='24' y='164' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='24' y='308' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>F</text>
<text text-anchor='middle' x='32' y='52' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='32' y='68' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='32' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='32' y='180' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='32' y='196' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='32' y='212' fill='currentColor' style='font-size:1em'>G</text>
<text text-anchor='middle' x='32' y='308' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='32' y='324' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='32' y='340' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='32' y='356' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='40' y='52' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='40' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='40' y='164' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='40' y='180' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='40' y='196' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='40' y='212' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='40' y='308' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='40' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='40' y='340' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='40' y='356' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='48' y='20' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='48' y='52' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='48' y='68' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='48' y='180' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='48' y='196' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='48' y='212' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='48' y='308' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='48' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='48' y='340' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='48' y='356' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='56' y='52' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='56' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='56' y='164' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='56' y='180' fill='currentColor' style='font-size:1em'>/</text>
<text text-anchor='middle' x='56' y='196' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='56' y='212' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='56' y='308' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='56' y='324' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='56' y='340' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='56' y='356' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='64' y='68' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='64' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='64' y='180' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='64' y='196' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='64' y='324' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='64' y='340' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='64' y='356' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='72' y='20' fill='currentColor' style='font-size:1em'>F</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='72' y='52' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='72' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='72' y='164' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='72' y='180' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='72' y='196' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='72' y='212' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='72' y='308' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='72' y='324' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='72' y='340' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='72' y='356' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='80' y='20' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='80' y='52' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='80' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='80' y='164' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='80' y='180' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='80' y='212' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='80' y='308' fill='currentColor' style='font-size:1em'>U</text>
<text text-anchor='middle' x='80' y='340' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='20' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='88' y='52' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='88' y='180' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='88' y='196' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='88' y='212' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='88' y='308' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='88' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='340' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='88' y='356' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='96' y='20' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='96' y='52' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='96' y='68' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='96' y='164' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='96' y='180' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='96' y='196' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='96' y='212' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='96' y='308' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='96' y='324' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='96' y='340' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='96' y='356' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='104' y='20' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='104' y='36' fill='currentColor' style='font-size:1em'>X</text>
<text text-anchor='middle' x='104' y='52' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='104' y='68' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='104' y='164' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='104' y='180' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='104' y='196' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='104' y='212' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='104' y='308' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='104' y='324' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='104' y='340' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='104' y='356' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='112' y='20' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='112' y='36' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='112' y='52' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='112' y='68' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='112' y='116' fill='currentColor' style='font-size:1em'>|</text>
<text text-anchor='middle' x='112' y='132' fill='currentColor' style='font-size:1em'>V</text>
<text text-anchor='middle' x='112' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='112' y='180' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='112' y='196' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='112' y='212' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='112' y='260' fill='currentColor' style='font-size:1em'>|</text>
<text text-anchor='middle' x='112' y='276' fill='currentColor' style='font-size:1em'>V</text>
<text text-anchor='middle' x='112' y='308' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='112' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='112' y='356' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='120' y='20' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='120' y='52' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='120' y='164' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='120' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='120' y='196' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='120' y='212' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='120' y='308' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='120' y='324' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='120' y='340' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='120' y='356' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='128' y='20' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='128' y='36' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='128' y='52' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='128' y='68' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='128' y='116' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='128' y='164' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='128' y='180' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='128' y='260' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='128' y='308' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='128' y='324' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='128' y='340' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='128' y='356' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='136' y='20' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='136' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='136' y='52' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='136' y='68' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='136' y='116' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='136' y='164' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='136' y='196' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='136' y='212' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='136' y='260' fill='currentColor' style='font-size:1em'>E</text>
<text text-anchor='middle' x='136' y='308' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='136' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='136' y='340' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='136' y='356' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='144' y='20' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='144' y='36' fill='currentColor' style='font-size:1em'>8</text>
<text text-anchor='middle' x='144' y='52' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='144' y='68' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='144' y='180' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='144' y='196' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='144' y='212' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='144' y='260' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='144' y='308' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='144' y='324' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='144' y='340' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='144' y='356' fill='currentColor' style='font-size:1em'>z</text>
<text text-anchor='middle' x='152' y='20' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='152' y='36' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='152' y='52' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='152' y='116' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='152' y='164' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='152' y='180' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='152' y='196' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='152' y='260' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='152' y='308' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='152' y='340' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='152' y='356' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='160' y='20' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='160' y='52' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='160' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='160' y='164' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='160' y='180' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='160' y='196' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='160' y='212' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='160' y='260' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='160' y='308' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='160' y='324' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='160' y='340' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='160' y='356' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='168' y='20' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='168' y='52' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='168' y='68' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='168' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='168' y='164' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='168' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='168' y='196' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='168' y='212' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='168' y='308' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='168' y='324' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='168' y='340' fill='currentColor' style='font-size:1em'>z</text>
<text text-anchor='middle' x='168' y='356' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='176' y='68' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='176' y='116' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='176' y='164' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='176' y='180' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='176' y='196' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='176' y='212' fill='currentColor' style='font-size:1em'>z</text>
<text text-anchor='middle' x='176' y='260' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='176' y='308' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='176' y='324' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='176' y='340' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='176' y='356' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='184' y='20' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='184' y='68' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='184' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='184' y='180' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='184' y='196' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='184' y='212' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='184' y='260' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='184' y='308' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='184' y='324' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='184' y='340' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='192' y='20' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='192' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='192' y='116' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='192' y='164' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='192' y='180' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='192' y='260' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='192' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='192' y='340' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='200' y='20' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='200' y='68' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='200' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='200' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='200' y='180' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='200' y='212' fill='currentColor' style='font-size:1em'>&amp;</text>
<text text-anchor='middle' x='200' y='260' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='200' y='308' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='200' y='324' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='200' y='340' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='208' y='20' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='208' y='68' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='208' y='164' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='208' y='260' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='208' y='308' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='208' y='324' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='208' y='340' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='216' y='20' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='216' y='68' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='216' y='116' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='216' y='212' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='216' y='260' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='216' y='308' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='224' y='20' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='224' y='116' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='224' y='212' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='224' y='260' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='224' y='308' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='232' y='116' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='232' y='212' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='232' y='260' fill='currentColor' style='font-size:1em'>!</text>
<text text-anchor='middle' x='232' y='308' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='240' y='116' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='240' y='212' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='240' y='260' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='240' y='308' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='248' y='116' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='248' y='212' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='248' y='308' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='256' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='256' y='212' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='256' y='308' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='264' y='116' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='264' y='212' fill='currentColor' style='font-size:1em'>.</text>
<text text-anchor='middle' x='264' y='308' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='272' y='116' fill='currentColor' style='font-size:1em'>!</text>
<text text-anchor='middle' x='272' y='308' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='280' y='116' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='280' y='308' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='288' y='308' fill='currentColor' style='font-size:1em'>e</text>
</g>

    </svg>
  
  <figcaption>Figure 1: C Library Comparison: Footprint vs. Features</figcaption>
</figure>
<h2 id="conclusion-the-right-tool-for-the-tiny-job">Conclusion: The Right Tool for the Tiny Job</h2>
<p>The world of C standard libraries might seem obscure, but it&rsquo;s a perfect illustration of the Linux philosophy: choice and optimization. There&rsquo;s no single &ldquo;best&rdquo; library, just the best one for <em>your</em> specific needs.</p>
<ul>
<li>For your desktop PC or a powerful server, <strong>glibc</strong> is the go-to. It&rsquo;s robust, compatible, and handles everything.</li>
<li>For ultra-lightweight containers, resource-constrained home servers like my <strong>Alpine NAS</strong>, or many modern embedded systems, <strong>musl libc</strong> offers an unbeatable balance of size, correctness, and compatibility.</li>
<li>For older, deeply embedded devices with truly microscopic flash and RAM (think those 16MB routers pushing the absolute limits), <strong>uClibc</strong> remains the champion of ultimate minimalism, though it often requires more specialized development.</li>
</ul>
<p>These tiny C libraries are the unsung heroes that make projects like my custom OpenWrt router and Alpine NAS possible. They allow us to breathe new life into old hardware, build incredibly efficient systems, and push the boundaries of what&rsquo;s possible with limited resources. It&rsquo;s a testament to the power of open-source engineering – crafting foundational tools that enable an entire ecosystem to thrive, from the mightiest cloud servers to the humblest, most power-sipping network gadgets.</p>
]]></content:encoded>
    </item>
    <item>
      <title>My Pocket-Sized Network King: OpenWrt on a 16MB TP-Link</title>
      <link>https://eeth.pages.dev/blog/my-not-so-pocket-sized-network-king-openwrt-on-a-16mib-tp-link/</link>
      <pubDate>Wed, 30 Jul 2025 00:00:00 +0000</pubDate><author>jayeshjoshi08jj@gmail.com (hkcfs)</author>
      <guid>https://eeth.pages.dev/blog/my-not-so-pocket-sized-network-king-openwrt-on-a-16mib-tp-link/</guid>
      <description>&lt;p&gt;In network infrastructure, the prevailing wisdom dictates robust hardware with ample resources. Yet, the true power of embedded Linux lies in its ability to transform even the most humble devices into surprisingly capable network workhorses. This is the story of my unassuming TP-Link router, boasting a mere &lt;strong&gt;16MB of flash storage&lt;/strong&gt; and &lt;strong&gt;128MB of RAM&lt;/strong&gt;, which I&amp;rsquo;ve elevated to a highly customized, secure, and performant network hub using OpenWrt.&lt;/p&gt;&#xA;&lt;p&gt;Many would consider such hardware obsolete, quickly replaced by feature-rich, multi-gigabit consumer units. However, with OpenWrt, an outdated router transcends its factory limitations, offering granular control and advanced functionalities that belie its specifications. This isn&amp;rsquo;t merely about recycling old hardware; it&amp;rsquo;s about engineering a bespoke network environment on a shoestring budget of resources.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>In network infrastructure, the prevailing wisdom dictates robust hardware with ample resources. Yet, the true power of embedded Linux lies in its ability to transform even the most humble devices into surprisingly capable network workhorses. This is the story of my unassuming TP-Link router, boasting a mere <strong>16MB of flash storage</strong> and <strong>128MB of RAM</strong>, which I&rsquo;ve elevated to a highly customized, secure, and performant network hub using OpenWrt.</p>
<p>Many would consider such hardware obsolete, quickly replaced by feature-rich, multi-gigabit consumer units. However, with OpenWrt, an outdated router transcends its factory limitations, offering granular control and advanced functionalities that belie its specifications. This isn&rsquo;t merely about recycling old hardware; it&rsquo;s about engineering a bespoke network environment on a shoestring budget of resources.</p>
<h2 id="the-hardware-underdog-a-lesson-in-resourcefulness">The Hardware Underdog: A Lesson in Resourcefulness</h2>
<p>Let&rsquo;s enumerate the modest specifications of this TP-Link device:</p>
<ul>
<li><strong>Flash Storage:</strong> A minuscule <strong>16MB</strong>. Every kilobyte here is a precious commodity. Package selection and custom firmware builds are critical to fit within this constraint.</li>
<li><strong>RAM:</strong> <strong>128MB</strong>. While seemingly low, for a dedicated router, it&rsquo;s manageable. However, the OpenWrt base system itself consumes a significant portion, typically around <strong>88MB</strong>, leaving roughly <strong>~40MB of free RAM</strong> for custom services.</li>
<li><strong>Processor:</strong> A low-power MIPS or ARM SoC, optimized for network forwarding rather than heavy computation. It efficiently handles packet routing but will bottleneck on CPU-intensive tasks.</li>
<li><strong>Ethernet Ports:</strong> Despite its other limitations, this router is equipped with <strong>1Gbps (Gigabit Ethernet) ports</strong>.</li>
<li><strong>Network Interface Anomaly:</strong> The primary onboard Ethernet port is non-functional, necessitating a <strong>USB-to-Ethernet adapter</strong> for wired connectivity. This introduces additional USB bus overhead and a potential bottleneck, despite the 1Gbps physical ports.</li>
</ul>
<p>This device was designed for basic home connectivity. Yet, re-imagined with OpenWrt, it forms the highly functional core of my network.</p>
<h2 id="openwrt-linux-reimagined-for-routers">OpenWrt: Linux Reimagined for Routers</h2>
<p><strong>OpenWrt</strong> is an open-source Linux distribution specifically engineered for embedded devices like wireless routers. It&rsquo;s not just a firmware upgrade; it&rsquo;s a complete operating system replacement that provides full control.</p>
<ul>
<li><strong>Linux Kernel Foundation:</strong> OpenWrt runs a full Linux kernel, inheriting its stability, security, and the ability to leverage a vast ecosystem of open-source software packages.</li>
<li><strong>Unparalleled Customization:</strong> Unlike vendor firmware, OpenWrt provides complete control, from low-level network settings to user-space applications.</li>
<li><strong>Designed for Efficiency:</strong> OpenWrt is built from the ground up for resource-constrained hardware. It optimizes for minimal CPU, RAM, and flash usage, making it an ideal candidate for this 16MB/128MB device.</li>
<li><strong>Robust Community Support:</strong> A strong, active community continuously develops new features, patches security vulnerabilities, and provides extensive documentation.</li>
</ul>
<p>Flashing OpenWrt involves replacing the existing proprietary firmware. This process is highly specific to each router model, sometimes a straightforward web UI upload, other times requiring more involved methods like TFTP or serial console access. <strong>Always ensure you download the precise firmware image for your exact router revision</strong> from the official OpenWrt website to avoid bricking your device.</p>
<ul>
<li><strong>Device Compatibility:</strong> Consult the <a href="https://openwrt.org/toh/start">OpenWrt Wiki: Table of Hardware</a> to confirm support for your specific router model and access installation guides.</li>
<li><strong>Installation Overview:</strong> The <a href="https://openwrt.org/docs/guide-user/installation/overview">OpenWrt Wiki: Generic Installation Guide</a> offers general steps for flashing.</li>
</ul>
<h2 id="the-network-stack-sculpting-a-custom-environment">The Network Stack: Sculpting a Custom Environment</h2>
<p>Once OpenWrt is installed, the true potential of this hardware begins to unfold. Despite the stringent resource limitations, I&rsquo;ve implemented a sophisticated network configuration:</p>
<ul>
<li>
<p><strong>Custom VLANs (Virtual Local Area Networks):</strong></p>
<ul>
<li><strong>Purpose:</strong> VLANs allow for the logical segmentation of network traffic over a single physical network interface. It effectively creates multiple distinct, isolated broadcast domains.</li>
<li><strong>Implementation:</strong> I leverage VLANs to segment network traffic based on trust levels. For instance, I&rsquo;ve established a dedicated <strong>Guest Wi-Fi network</strong> that is entirely isolated from my primary LAN, preventing guest devices from accessing internal resources. Similarly, my <strong>IoT (Internet of Things) devices</strong> reside on their own VLAN, mitigating potential security risks should one be compromised. This containment strategy is paramount for network security.</li>
<li><strong>Configuration:</strong> VLANs are primarily configured via OpenWrt&rsquo;s network configuration files (<code>/etc/config/network</code>) and can be managed through the LuCI web interface. This involves defining interfaces, bridges, and assigning VLAN tags to specific wired ports or Wi-Fi SSIDs.</li>
</ul>
</li>
<li>
<p><strong>Network-Wide Ad-Blocking (Leveraging <code>adblock-lean</code>):</strong></p>
<ul>
<li><strong>Purpose:</strong> To eliminate advertisements and tracking scripts at the DNS level for all devices connected to the network.</li>
<li><strong>Implementation:</strong> Rather than resource-intensive solutions like <code>AdGuard Home</code> or <code>Pi-hole</code>, which are unsuitable for this router&rsquo;s limited RAM, I utilize a minimalist approach. This involves configuring <strong>Dnsmasq</strong> (OpenWrt&rsquo;s default DNS and DHCP server) to filter domains using <strong><code>adblock-lean</code></strong> (<a href="https://github.com/lynxthecat/adblock-lean">https://github.com/lynxthecat/adblock-lean</a>). <code>adblock-lean</code> is specifically designed for low-memory devices, providing efficient blocklist management within Dnsmasq.</li>
<li><strong>Benefits:</strong> This setup provides ubiquitous ad and tracker blocking across all devices (smartphones, smart TVs, PCs) without requiring individual client-side software. This enhances privacy, reduces bandwidth consumption, and improves browsing performance.</li>
<li><strong>Upstream DNS:</strong> Dnsmasq is further configured to forward unblocked queries to privacy-centric upstream DNS resolvers, such as Cloudflare DNS (<code>1.1.1.1</code>) or Quad9 (<code>9.9.9.9</code>), bolstering network-wide privacy.</li>
</ul>
</li>
</ul>
<h2 id="resource-allocation-the-art-of-precision">Resource Allocation: The Art of Precision</h2>
<p>Operating within 16MB of flash and approximately 40MB of usable RAM demands extreme precision in software selection and configuration:</p>
<ul>
<li><strong>Flash Constraints:</strong> The 16MB flash capacity dictates a strictly minimal OpenWrt image. Only core networking packages and highly optimized utilities can be installed. Any non-essential components are omitted during the firmware build process.</li>
<li><strong>RAM Management:</strong> With only ~40MB of free RAM, every running process must be exceptionally lean. This necessitates the use of C-based command-line utilities and careful avoidance of larger applications, dynamic scripting environments, or anything with significant background daemon overhead. OpenWrt&rsquo;s core packages are engineered for this efficiency, boasting small binary sizes and optimized runtime memory footprints.</li>
<li><strong>No Containerization:</strong> Unlike my NAS project, running Docker or Podman containers on this router is entirely infeasible due to the flash and RAM limitations. All services are installed directly as native OpenWrt packages, leveraging existing system libraries for maximal efficiency.</li>
</ul>
<p>Despite these severe constraints, the router maintains remarkable <strong>stability and responsiveness</strong> for its defined networking roles. It efficiently routes traffic, enforces VLAN rules, and performs DNS-based ad-blocking without perceptible performance degradation.</p>
<h2 id="network-performance-and-power-economy-defying-conventional-wisdom">Network Performance and Power Economy: Defying Conventional Wisdom</h2>
<p>The router&rsquo;s <strong>1Gbps Ethernet ports</strong> provide a theoretical throughput of 1 Gigabit per second. However, the reliance on a <strong>USB-to-Ethernet adapter</strong> introduces a practical bottleneck. While the adapter itself might be rated for Gigabit speeds, the underlying USB bus overhead can cap real-world performance, especially when multiple devices are saturating the connection or the CPU is under load from other tasks. For typical home usage, however, this setup still delivers robust and fast connectivity, often exceeding the requirements of most consumer internet connections.</p>
<p>Crucially, the power consumption of this humble setup is a significant advantage, especially in regions with high electricity costs:</p>
<ul>
<li><strong>Idle Power Draw:</strong> Typically a mere <strong>3-5 watts</strong>. This is the consumption for the entire device, operating 24/7.</li>
<li><strong>Max Load Power Draw:</strong> Even under heavy network traffic or when the CPU is active (e.g., handling many DNS queries), the consumption generally stays below <strong>7-10 watts</strong>.</li>
</ul>
<p>This translates to an exceptionally low operational cost over time, making it an economically and environmentally sound choice for an always-on network device.</p>
<h2 id="conclusion-maximizing-potential-minimizing-waste">Conclusion: Maximizing Potential, Minimizing Waste</h2>
<p>My humble TP-Link router, transformed by OpenWrt, stands as a powerful demonstration of what&rsquo;s achievable with minimalist computing. It proves that you don&rsquo;t need a state-of-the-art, expensive appliance to build a highly customized, secure, and energy-efficient home network.</p>
<p>This setup delivers:</p>
<ul>
<li><strong>Enhanced Security:</strong> Through rigorous VLAN segmentation and proactive ad/tracker blocking.</li>
<li><strong>Improved Privacy:</strong> By localizing DNS resolution and minimizing external data leakage.</li>
<li><strong>Optimized Performance:</strong> By stripping away bloat and focusing on core networking functions.</li>
<li><strong>Sustainable Computing:</strong> By repurposing hardware that would typically be discarded, contributing to reduced electronic waste.</li>
</ul>
<p>If you possess an old, seemingly &ldquo;obsolete&rdquo; router, I strongly advocate exploring OpenWrt. It&rsquo;s an excellent opportunity to deepen your understanding of networking, gain unparalleled control over your home internet infrastructure, and champion a more sustainable approach to technology. You might be astounded by the latent capabilities residing within that unassuming plastic enclosure.</p>
]]></content:encoded>
    </item>
    <item>
      <title>My Pocket-Sized Powerhouse: Building an Alpine NAS on a Dell Junk</title>
      <link>https://eeth.pages.dev/blog/my-pocket-sized-powerhouse-building-an-alpine-nas-on-a-dell-junk/</link>
      <pubDate>Mon, 14 Jul 2025 00:00:00 +0000</pubDate><author>jayeshjoshi08jj@gmail.com (hkcfs)</author>
      <guid>https://eeth.pages.dev/blog/my-pocket-sized-powerhouse-building-an-alpine-nas-on-a-dell-junk/</guid>
      <description>&lt;p&gt;People often think you need a powerful, expensive computer to run a good home server or NAS (Network Attached Storage). They imagine big, noisy machines with lots of fast parts. But I&amp;rsquo;m here to share a story about a very old, weak computer that does a great job, showing that you can do a lot with less if you pick the right software.&lt;/p&gt;&#xA;&lt;p&gt;My &amp;ldquo;NAS&amp;rdquo; is actually just an old Dell laptop. It&amp;rsquo;s nothing special: it has an old &lt;strong&gt;Intel J1900 processor&lt;/strong&gt;, which is about as powerful as a Raspberry Pi 3B+. It only has &lt;strong&gt;4GB of RAM&lt;/strong&gt;. And get this: the internal hard drive port broke a long time ago, so I can only use external hard drives connected by USB. Plus, the main internet port stopped working, so I have to use a &lt;strong&gt;USB-to-Ethernet adapter&lt;/strong&gt; for network access.&lt;/p&gt;</description>
      <content:encoded><![CDATA[<p>People often think you need a powerful, expensive computer to run a good home server or NAS (Network Attached Storage). They imagine big, noisy machines with lots of fast parts. But I&rsquo;m here to share a story about a very old, weak computer that does a great job, showing that you can do a lot with less if you pick the right software.</p>
<p>My &ldquo;NAS&rdquo; is actually just an old Dell laptop. It&rsquo;s nothing special: it has an old <strong>Intel J1900 processor</strong>, which is about as powerful as a Raspberry Pi 3B+. It only has <strong>4GB of RAM</strong>. And get this: the internal hard drive port broke a long time ago, so I can only use external hard drives connected by USB. Plus, the main internet port stopped working, so I have to use a <strong>USB-to-Ethernet adapter</strong> for network access.</p>
<p>Sounds like trash, right? Most people would throw it away. But for me, it&rsquo;s a perfect example of what you can achieve with smart software and a focus on keeping things simple. This isn&rsquo;t just for storing files; it&rsquo;s a full home server running many useful programs, and it uses very little electricity.</p>
<h2 id="the-computer-an-old-but-useful-machine">The Computer: An Old but Useful Machine</h2>
<p>Let&rsquo;s look closer at the computer itself:</p>
<ul>
<li><strong>CPU:</strong> Intel J1900 (4 cores, 4 threads, low speed). This chip was made for basic computers that don&rsquo;t need fans, so it uses very little power. But it&rsquo;s not fast at all for big tasks.</li>
<li><strong>RAM:</strong> 4GB DDR3. This is often the smallest amount of memory people suggest for any server, especially one running container programs like Docker. Managing this memory well is super important.</li>
<li><strong>Storage:</strong> All my storage is on external hard drives connected through USB. This means the speed of moving data is limited by the USB ports, which are not as fast as internal connections like SATA.</li>
<li><strong>Network:</strong> I use a USB-to-Ethernet adapter. This could sometimes cause problems with stability or speed if the adapter or its software isn&rsquo;t good.</li>
</ul>
<p>This laptop wasn&rsquo;t built to be powerful. It was made for simple office work or just browsing the internet. But now, it&rsquo;s the core of my home data system, proving that you don&rsquo;t always need a lot of raw power.</p>
<h2 id="alpine-linux-the-operating-system-for-small-computers">Alpine Linux: The Operating System for Small Computers</h2>
<p>The real trick to making this work is the operating system: <strong>Alpine Linux</strong>. For computers with limited resources, Alpine is the best choice. Here’s why it was perfect for my setup:</p>
<ul>
<li><strong>Very Small Size:</strong> Alpine is incredibly tiny. It uses a different main system library (<code>musl libc</code> instead of <code>glibc</code>), which makes programs very small and keeps the basic system very compact. This means it uses very little disk space and, most importantly, very little RAM.</li>
<li><strong>Security First:</strong> Alpine uses a specially hardened version of the Linux kernel and has strong security features built in. This makes it a very safe base for any server, reducing the ways hackers could get in.</li>
<li><strong>Great for Docker:</strong> Alpine is well-known for working perfectly with Docker. Because it&rsquo;s so small, container images built on Alpine are also tiny, and its package manager (<code>apk</code>) is fast and efficient. This makes it very easy to run containerized applications.</li>
</ul>
<p>Because Alpine is so small, when the laptop is just on and doing nothing, it uses only about <strong>170MB of RAM</strong>. Yes, on a 4GB RAM laptop, less than 200MB is used just for the operating system! This leaves a lot of memory free for the services I want to run.</p>
<h2 id="the-software-stack-docker-and-my-favorite-programs">The Software Stack: Docker and My Favorite Programs</h2>
<p>To run many programs on one machine without them getting in each other&rsquo;s way, I use <strong>Docker</strong>. Docker lets me put each program into its own isolated &ldquo;box&rdquo; called a container. This makes setting them up, updating them, and keeping them separate from the main system much easier.</p>
<p>Here are the important programs running on this small Dell NAS:</p>
<ul>
<li>
<p><strong>Immich (Self-hosted Photo Backup):</strong> This program is like a private version of Google Photos. It backs up all my pictures and videos from my phone and other devices. It has special AI features that can recognize faces, objects, and sort photos automatically.</p>
<ul>
<li><strong>Technical Detail:</strong> Immich&rsquo;s AI features are very demanding. When it&rsquo;s doing a lot of work, like scanning a big batch of new photos, the J1900 CPU goes up to <strong>99-100% usage</strong>. The RAM used by all my services, which is usually around 800MB, can jump to <strong>2.5GB or even 3GB</strong> during these heavy AI tasks. It&rsquo;s not super fast, but it <em>does</em> get the job done in the background. It keeps processing my photos, making them organized and searchable. This shows how good Immich is at using resources and how Docker helps keep big programs from breaking the whole system.</li>
</ul>
</li>
<li>
<p><strong>Kopia (Backup System):</strong> This is my main program for backups. Kopia takes my important files, encrypts them (scrambles them so only I can read them), and stores them efficiently by only saving unique parts of files (<code>deduplication</code>). This saves a lot of disk space. It works perfectly on the external hard drive and also sends copies to my cloud storage for safekeeping.</p>
</li>
<li>
<p><strong>Filebrowser-quantum (Web File Manager):</strong> This is a simple website I can open in my browser to look at and manage files on my external hard drive. It&rsquo;s very light and easy to use, much simpler than setting up a full file-sharing system.</p>
</li>
<li>
<p><strong>Portainer (Docker Control Panel):</strong> This is a website interface that lets me manage all my Docker containers easily. I can start, stop, update, and check on my programs without typing lots of commands. It makes managing everything much more visual and user-friendly.</p>
</li>
<li>
<p><strong>Tailscale (Secure Remote Access):</strong> This program is crucial for connecting to my NAS from anywhere, even when I&rsquo;m not home. Tailscale creates a secure &ldquo;virtual network&rdquo; that connects my devices directly, like a private highway. This means I don&rsquo;t have to deal with complicated router settings (like &ldquo;port forwarding&rdquo;) to get to my files and services securely.</p>
</li>
</ul>
<p>As I mentioned, with <em>all</em> these programs usually running, the total RAM used is around <strong>800MB</strong>. Only when Immich&rsquo;s AI starts its heavy work does the RAM temporarily go higher, sometimes up to 3GB. This shows how well these programs and Alpine Linux manage memory.</p>
<h2 id="power-use-saving-money-on-electricity">Power Use: Saving Money on Electricity</h2>
<p>Besides how well it runs, how much electricity a 24/7 server uses is very important, especially where electricity costs a lot (like in many parts of Europe). The Dell J1900 NAS really shines here:</p>
<ul>
<li><strong>When Idle:</strong> It uses only <strong>8 to 12 watts</strong>. This includes the CPU, main board, RAM, and the external hard drive. This is incredibly low for a computer that&rsquo;s always on.</li>
<li><strong>When Working Hard:</strong> Even when Immich is pushing the CPU to 99-100% doing AI tasks, the total electricity use only goes up to <strong>22 to 25 watts</strong>.</li>
</ul>
<p>This means that even if it runs all day, every day, this NAS costs very little to power. It&rsquo;s a very affordable and environmentally friendly choice compared to bigger, more power-hungry servers or store-bought NAS devices.</p>
<h2 id="what-this-nas-is-not-for-and-why-thats-fine">What This NAS Is NOT For (and Why That&rsquo;s Fine)</h2>
<p>Let&rsquo;s be clear about what this small computer <em>cannot</em> do:</p>
<ul>
<li>It won&rsquo;t let many people watch 4K movies at the same time.</li>
<li>It&rsquo;s not for hosting dozens of busy websites or big databases.</li>
<li>It can&rsquo;t run many virtual machines (like a Windows computer running inside your Linux server).</li>
<li>Immich&rsquo;s AI analysis will be slow, taking hours or days for huge photo libraries, but it finishes the job.</li>
</ul>
<p>But for a personal home NAS, backing up photos, sharing files securely, and running essential private services for a small family or one person, it works amazingly well. It shows that you can get great results with less powerful hardware if you choose the right minimalist operating system and efficient containerized applications.</p>
<h2 id="conclusion-doing-more-with-less">Conclusion: Doing More With Less</h2>
<p>This little Dell laptop, running Alpine Linux with Docker, is more than just a file server. It proves that you don&rsquo;t need to spend a lot of money or use a lot of electricity to have a strong, private, and capable home server.</p>
<p>It feels great to see all these programs running smoothly, knowing they&rsquo;re using only a small part of the computer&rsquo;s limited power. It&rsquo;s about being efficient, thinking about the environment, and taking control of your own data, even with old hardware. If you have an old, &ldquo;weak&rdquo; computer just sitting there, think about giving it a new purpose as a lean, efficient Alpine NAS. You might be very surprised by what it can do, and your wallet (and maybe even the planet) will thank you.</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
